import { useMemo } from 'react';
import { useCharacterStore } from '../../../stores/characterStore'
import './CombatStats.css'
import MainStats from './MainStats'

export default function Stats() {
    // const { character } = useCharacterStore();
        const character = useCharacterStore(state => state.character);
    
    const derivedStats = useMemo(() => character?.derivedStats || {
        health: 0, maxHealth: 0, mana: 0, maxMana: 0,
        attackMin: 0, attackMax: 0, defense: 0, critChance: 0, evasion: 0
    }, [character]);

    return (
        <div className="stats-container">
            <div className='stats-box'>
                <MainStats />
                <div className='ui-stats'></div>
                <div className='stats-combat-wrapper'>
                    <div className='stats-combat-stat'>
                        <div className='stats-descr-wrap'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5vh" height="1.5vh" viewBox="0 0 512 512"><path fill="#e6d6b2" d="M19.75 14.438c59.538 112.29 142.51 202.35 232.28 292.718l3.626 3.75l.063-.062c21.827 21.93 44.04 43.923 66.405 66.25c-18.856 14.813-38.974 28.2-59.938 40.312l28.532 28.53l68.717-68.717c42.337 27.636 76.286 63.646 104.094 105.81l28.064-28.06c-42.47-27.493-79.74-60.206-106.03-103.876l68.936-68.938l-28.53-28.53c-11.115 21.853-24.413 42.015-39.47 60.593c-43.852-43.8-86.462-85.842-130.125-125.47c-.224-.203-.432-.422-.656-.625C183.624 122.75 108.515 63.91 19.75 14.437zm471.875 0c-83.038 46.28-154.122 100.78-221.97 161.156l22.814 21.562l56.81-56.812l13.22 13.187l-56.438 56.44l24.594 23.186c61.802-66.92 117.6-136.92 160.97-218.72zm-329.53 125.906l200.56 200.53a402.965 402.965 0 0 1-13.405 13.032L148.875 153.53l13.22-13.186zm-76.69 113.28l-28.5 28.532l68.907 68.906c-26.29 43.673-63.53 76.414-106 103.907l28.063 28.06c27.807-42.164 61.758-78.174 104.094-105.81l68.718 68.717l28.53-28.53c-20.962-12.113-41.08-25.5-59.937-40.313c17.865-17.83 35.61-35.433 53.157-52.97l-24.843-25.655l-55.47 55.467c-4.565-4.238-9.014-8.62-13.374-13.062l55.844-55.844l-24.53-25.374c-18.28 17.856-36.602 36.06-55.158 54.594c-15.068-18.587-28.38-38.758-39.5-60.625z" /></svg>
                            <p className='stats-descr'>Сила атаки: </p>
                        </div>
                        {derivedStats.attackMin === derivedStats.attackMax ?
                            <span className='stats-combat-num'>{derivedStats.attackMin}</span>
                            :
                            <span className='stats-combat-num'>{derivedStats.attackMin}-{derivedStats.attackMax}</span>
                        }
                    </div>
                    <div className='stats-combat-stat'>
                        <div className='stats-descr-wrap'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5vh" height="1.5vh" viewBox="0 0 512 512"><path fill="#e6d6b2" d="M142.37 21.035a341.886 341.886 0 0 0-4.64.01c-41.1.368-83.607 8.237-120.058 21.103c.386 80.173 7.825 165.28 27.805 235.348c20.04 70.286 52.434 124.282 100.748 145.553c53.917-24.07 85.753-72.574 104.593-136.5c18.927-64.216 24.042-143.3 24.215-224.29c-28.374-25.59-71.56-38.62-118.838-40.867c-4.578-.218-9.19-.336-13.824-.358zm2.136 27.844c4.387.018 8.76.13 13.105.345c34.76 1.712 67.982 9.664 90.966 29.44l3.25 2.796v4.288c0 62.11-3.212 125.186-16.738 178.236c-13.526 53.05-37.82 97.014-80.918 117.147l-3.87 1.81l-3.902-1.745c-40.838-18.267-64.292-66.432-78.556-124.086C53.578 199.455 48.707 131.105 48.707 69v-7.28l7.06-1.78c26.68-6.732 58.032-11.2 88.74-11.063zM347.18 60.376a1839.362 1839.362 0 0 1-.315 33.615l-53.578 5.467c-.145 6.3-.32 12.584-.547 18.84l53.647-5.474c-.39 12.47-.93 24.85-1.676 37.084l.52 4.436L500.1 87.36L347.18 60.376zm-202.75 7.195c-26.233-.098-53.274 3.532-76.955 8.953c.39 59.084 5.394 123.083 18.51 176.096c13.11 52.988 34.476 93.765 64.204 109.554c33.705-17.703 54.448-54.405 66.79-102.807C229.475 210.35 232.9 150.27 233.065 90.34c-18.126-13.75-45.83-20.945-76.375-22.45c-4.048-.2-8.142-.302-12.26-.318zm198.648 105.07a865.083 865.083 0 0 1-2.758 27.715l-52.654-8.59a764.025 764.025 0 0 1-2.227 18.57l52.5 8.567c-1.68 11.92-3.626 23.612-5.905 34.994l141.606-30.613l-130.56-50.644zm-12.865 99.573l-8.844 24.767a391.908 391.908 0 0 1-1.864 5.993l-48.633-18.643c-.69 2.516-1.398 5.02-2.13 7.502c-1.037 3.52-2.128 7-3.253 10.45l47.885 18.355a316.337 316.337 0 0 1-4.398 11.048l-.004.01l-7.89 22.095l150.517 7.754l-121.387-89.332zm-95.79 97.205a218.143 218.143 0 0 1-10.907 15.434l29.248 28.025c-8.436 7.337-17.59 13.893-27.545 19.567l140.58 62.37l-78.357-122.184c-6.4 9.8-13.464 18.9-21.238 27.24l-31.783-30.453z" /></svg>
                            <p className='stats-descr'>Защита: </p>
                        </div>
                        <span className='stats-combat-num'>{derivedStats.defense}</span>
                    </div>
                    <div className='stats-combat-stat'>
                        <div className='stats-descr-wrap'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5vh" height="1.5vh" viewBox="0 0 512 512"><path fill="#e6d6b2" d="m498.03 15.125l-87.06 34.72l-164.5 164.5l-34.657-32.095l31.156-28.844l-223-133.594L176.155 164.5l-31.094 28.813l63.563 58.875l-70.03 70.03a398.93 398.93 0 0 0 8.968 10.438l9.656 9.656l71.5-71.5l13.718 12.688l-72 72l9.843 9.844a405.858 405.858 0 0 0 10.657 9.187l72-72l40.782 37.75l-29 26.876l223 133.594l-158.69-146.97l29-26.842l-67.217-62.282l162.5-162.5l34.718-87.03zm-67.34 53.688l13.218 13.218L280.28 245.657l-13.717-12.687L430.688 68.812zm-341 216.875L61.874 313.5L199.22 450.875l27.81-27.844c-56.283-34.674-103.014-81.617-137.343-137.342zM108.44 386.5l-81 81l17.75 17.75l81-81l-17.75-17.75z" /></svg>
                            <p className='stats-descr'>Шанс крита: </p>
                        </div>
                        <span className='stats-combat-num'>{derivedStats.critChance}</span>
                    </div>
                    <div className='stats-combat-stat'>
                        <div className='stats-descr-wrap'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5vh" height="1.5vh" viewBox="0 0 512 512"><path fill="#e6d6b2" d="M378.321 58.818c-3.95 6.585-5.374 14.345-2.228 20.761c8.425 5.494 50.968 15.802 47.286 29.773c-.784 2.301-1.087 3.54-1.515 5.224c-7.4-6.764-22.462-10.05-27.902-9.049c-4.832.843-9.721 3.05-14.44 3.248c-5.986-.032-11.34-1.516-15.925-4.254c3.24 8.943 14.85 15.537 22.049 14.412c11.318-2.258 23.535 3.723 31.779 6.67c-5.055 13.86-22.014 7.334-22.014 7.334l-121.937-28.02L253.44 90.45l-17.34 17.72l88.945 29.131l-120.023 2.676l-29.907-12.486l-40.77 23.617l182.99 13.291l-56.212 59.426h99.22c19.341-15.746 63.009-51.2 63.645-50.793c12.867 29.973 33.256 19.023 48.815 1.55c4.515-5.069 9.47 12.362 12.021-16.015c.64-1 1.217-2.011 1.772-3.03c-18.028-7.661-48.58 5.732-31.817-17.992c5.135-7.262 20.776-5.296 36.871 3.97c.582-15.262-1.056-42.396-15.484-48.39c-14.85-6.169-34.024-5.48-41.316 2.682c-9.946-16.88-39.574-19.07-51.307-20.764c-3.453-5.429-4.558-10.479-5.223-16.226zm-188.328 59.236l-4.558 4.034l16.138 6.853l10.852-10.887zm276.578 24.354c6.542 4.808 7.01 5.943 11.393 6.1c1.597-1.021 5.12-4.613 1.857-5.37l-11.04-2.203c-1.14-.204-2.02.646-2.21 1.473zM148.167 160.44l-5.95 5.264h22.43l5.952-5.264zm-39.285 13.598l-12 15.357h15.855l5.461-6.414h42.592l-7.937 6.94h15.953l16-15.356zm15.664 15.933L20.251 309.592l23.027-4.516l98.618-115.104zM251.3 234.216L119.878 373.16l-16.697 4.265s-12.898 29.813-18.834 65.059c7.659 4.113 17.39-8.02 17.39-8.02s-1.1 13.09 6.64 9.743c14.097-28.569 29.864-58.248 29.864-58.248l159.721-121.877l20.994 5.584l27.758 7.386l-62.557 58.727l-11.238-12.15s-34.319 38.069-47.305 66.224c4.13 4.74 20.33-7.64 20.33-7.64s-5.369 9.615 1.932 9.31c17.808-16.694 29.682-29.826 29.682-29.826l132.82-98.543l-48.23-28.938z" /></svg>
                            <p className='stats-descr'>Уклонение: </p>
                        </div>
                        <span className='stats-combat-num'>{derivedStats.evasion}</span>
                    </div>
                </div>
            </div>
        </div>
    )
}